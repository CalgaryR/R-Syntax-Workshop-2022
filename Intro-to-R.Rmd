---
title: "Introduction to R"
author: "P. Adames"
date: "11/14/2020"
bibliography: bib.bib
output: 
  pdf_document:
    number_sections: true
    toc: true
    toc_depth: 4
    highlight: tango
  urlcolor: blue
  linkcolor: red
  citecolor: purple
  citation_package: natbib
  latex_engine: lualatex
  includes:
    in_header: preamble.tex
documentclass: article
classoption: oneside
fontsize: 11
geometry: margin=1in
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
	echo = TRUE,
	message = FALSE,
	warning = FALSE
)
```

```{r loading packages, echo=FALSE}
# from https://www.r-bloggers.com/2015/11/creating-nice-tables-using-r-markdown/

# List of packages required for this analysis
pkg <- c("dplyr", "knitr", "devtools", "DT", "xtable")
# Check if packages are not installed and assign the
# names of the packages not installed to the variable new.pkg
new.pkg <- pkg[!(pkg %in% installed.packages())]
# If there are any packages in the list that aren't installed,
# install them
if (length(new.pkg)) {
  install.packages(new.pkg, repos = "http://cran.rstudio.com")
}
# Load the packages into R
library(dplyr)
library(knitr)
library(DT)
library(xtable)
```

# Target audience

This tutorial is aimed at undergraduate and graduate students in the areas of science and engineering.

The goal is to stengthen their computational skills with the most popular statistical computing language and the ecosystem of open source and free packages and tools.

Students are usually expected to learn how to use these specialized tools outside of their normal curriculum, this it becomes important to expose them to them as early as possible in their engineering or scientific careers.


# Introduction to R

The introduction to R document in the official repository of packages for the R language has 105 pages and 14 sections (<https://cran.r-project.org/doc/manuals/r-release/R-intro.pdf>). It covers data structures, reading and writing (I/O) to files, probability distributions, statistical models, conditional statements and other forms of controlling the execution of a program,  user functions, graphics, extension via packages, and commands to interact with the host operating system.

Undoubably too much for a 45 minute session. Therefore the focus will be on two aspects:

 - language specific syntax
 - basic I/O and interoperability with the operating system

These two aspects can give the student a quick sense of usability for the R langauage. This approrach leaves an essential strengtgh of R for later, its nature as a statistical computing and graphics language.


# Language Syntax

This section introduces the basic structural components used to write an R script. Because this is an introductory tutorial, the semantics and the tools will not be emphasized.

At its core, R represents everything  as an object. Even functions and operators are special objects. Programing languages model information using data structures. Let's have a look at the objects available in R to model  information.

## Data structures

R uses the data structures illustrated in the table below taken from [@WickhamHadley2015AR, p.13].
Vectors, matrices, and arrays can store values of the same data type, whether they are are numeric, integer, logical, or character. 
In contrast, lists and data frames can store mixed data types.
For 3d and higher dimensionality the native data structure is an object of class _array_.

```{r data structures, echo=FALSE, results='asis'}
Homogeneous <- c("Atomic vector", "Matrix", "Array")
Heterogeneous <- c("List", "Data frame", "")

kable( data.frame(Homogeneous, Heterogeneous, 
                 row.names = c("1d", "2d", "nd"), 
                 stringsAsFactors = FALSE))#,
       # caption = 'Native data structures in R according to the data type they can store and the number of dimensions they use.')
```

Because every data in R is an object, all of these structures have attributes like name, dimension, and a \texttt{class}. 
They can also receive and carry user-defined attributes.

As a consequence of this design, scalars are implemented in R as vectors of length 1.
This section contains exercises to illustrate and practice how to create, access, and do simple operations with the basic data structures.
Valid identifiers and variable assignment is explained at this point.

## Data types

 - *numeric:* double precision floating point real numbers.
 - *integer:* model integer numbers.
 - *logical:* can be TRUE, T, 1 or FALSE, F, 0.
 - *character:* models aa text character in an encoding.

This section has exercises that give examples and questions students on the meaning of operating on mixed data types and the concept of type coercion.

## Built in functions

In this section two basic ideas are presented: mathematical and logical operations are functions. The magic of the generic dispatch mechanism for functions like _print_.

In addition to this the concept of functions as first-class objects is emphasized: functions can be values, thus they can be used as arguments to functions and returned from other functions for assignment to a variable.

The examples illustrate how to search and interpret the R documentation to use functions and their arguments.

## User-defined functions

The main concept presented is how to write a function and what parts does the function object have. 
A brief introduction to the concepts and concequences of lexical scope, free variable resolution, and environments are presented via examples.

An important example is that functions can maintain state as a consequence of the use of environments and lexycal scope rules [@IhakaGentleman96]. This is radically different from many other main stream languages and it is a powerful tool for simulation.

### Iteration over data structures

The basic apply functions are introduced in this section: apply, lapply, sapply and vapply.
The emphasis is made on the safety of vapply because of its explicit declaration of the expected type of the input, thus limiting the effects of type coercion in the case of mixed input types during the apply operation.

### I/O

Basic file reading functions, scan, read.table.
Students get to practice reading numerical and text data from small files provided to experiment with given command line instructions.

Writing data from data structures to text files.

### Interoperatibility with the host operating system

The students will get familiar with the R command line to find the contents of the local directory. The concept of present working directory is also introduced.
Other basic commands are introduced to obtain information from the operating system as well as for file and folder manipulation.

## Execution control

Introduction of the basic key words for execution control while writing R scripts.


# Methodology

This part of the tutorial series in R can be delivered in one or two sessions of 45 minutes each, depending on the convenience and commitment from the students and their instructors.
The intended format is brief instructor oral explanations followed by guided hands on student practice on a computer.

The computational environment will be provided as a docker container with RStudio server and all the packages and files required. 
After Docker is downloaded and installed, the image for this tutorial can be downloaded, built and run on. 
At the end of the process the students can log in to the server from a browser while the server is running locally on their machines from the container.

Each section on this course has code examples and data for students to run, complete, and modify according to the instructor's interpretation of the students level of competency and engagement.
These exercises are preared with the R package learnr. 

The students can use the exercises to explore further after the tutorial.

# References







